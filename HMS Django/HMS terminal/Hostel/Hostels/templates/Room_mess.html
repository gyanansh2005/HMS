{% extends 'Rooms_base.html' %}
{% load static %}

{% block content %}
<div class="mess-container">
    <h2>Mess Menu</h2>
    <div class="today-menu">
        <h3>Today's Menu ({{ current_day }})</h3>
        {% if today_menu %}
            {% for item in today_menu %}
                <div class="menu-item">
                    <strong>{{ item.meal_type }}</strong>
                    <p>{{ item.menu }}</p>
                </div>
            {% empty %}
                <p>No menu set for today.</p>
            {% endfor %}
        {% else %}
            <p>No menu set for today.</p>
        {% endif %}
    </div>
    <div class="weekly-menu">
        <h3>Weekly Menu</h3>
        <table>
            <thead>
                <tr>
                    <th>Day</th>
                    <th>Meal Type</th>
                    <th>Menu</th>
                </tr>
            </thead>
            <tbody>
                {% for item in menu_items %}
                    <tr>
                        <td>{{ item.day }}</td>
                        <td>{{ item.meal_type }}</td>
                        <td>{{ item.menu }}</td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="3">No menu items available.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="mess-timings">
        <h3>Mess Timings</h3>
        <ul>
            {% for meal, timing in mess_timings.items %}
                <li>{{ meal }}: {{ timing }}</li>
            {% endfor %}
        </ul>
    </div>
</div>

<style>
.mess-container {
    padding: 2rem;
    background: #f8fafc;
}
.today-menu, .weekly-menu, .mess-timings {
    margin-bottom: 2rem;
}
.menu-item {
    background: white;
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1rem;
}
table {
    width: 100%;
    border-collapse: collapse;
}
th, td {
    padding: 0.75rem;
    border: 1px solid #e2e8f0;
}
th {
    background: #4361ee;
    color: white;
}
</style>
{% endblock %}